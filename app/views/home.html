<div ng-include="'views/partials/logo.html'"></div>
<a id="sign-in-link" ui-sref="signIn" class="btn btn-plain btn-signin">Sign In</a>

<div class="row home-intro">
  <div class="col-md-12">
    <h2>Comics, photos, <br/>videos, blogs.</h2>
    <h3>Bring more of your best creations to life. Launch your own subscription.</h3>

    <div class="form-wrap">
      <form novalidate
            role="form"
            name="form"
            id="registrationForm"
            ng-show="!registrationSucceeded">

        <div class="form-group" fw-form-group-validity="email">
          <div class="row">
            <div class="col-md-6">
              <div class="has-feedback">
                <input type="email" class="form-control" name="email" placeholder="Email"
                       ng-model="registrationData.email"
                       required>
                <span ng-if="form.email.$valid && form.email.$touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span ng-if="form.email.$invalid && ((form.email.$touched && form.email.$dirty) || form.$submitted)" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
              </div>
            </div>
            <div class="col-md-6">
              <p ng-if="form.email.$invalid && ((form.email.$touched && form.email.$dirty) || form.$submitted)" class="help-block">A valid email address is required.</p>
            </div>
          </div>
        </div>

        <div class="form-group" fw-form-group-validity="username">
          <div class="row">
            <div class="col-md-6">
              <div class="has-feedback">
                <input type="text" class="form-control" name="username" placeholder="Username"
                       ng-model="registrationData.username"
                       ng-model-options="{ debounce: 500 }"
                       ng-pattern="/^[a-zA-Z0-9_]+$/"
                       ng-minlength="2"
                       ng-maxlength="20"
                       maxlength="20"
                       required fw-check-username-availability>
                <span ng-if="form.username.$valid && form.username.$touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span ng-if="form.username.$invalid && ((form.username.$touched && form.username.$dirty) || form.$submitted)" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
              </div>
            </div>
            <div class="col-md-6">
              <p fw-rule-invalid="pattern" class="help-block">Letters, numbers and underscores only.</p>
              <p ng-if="form.username.$error.minlength && ((form.username.$touched && form.username.$dirty) || form.$submitted)" class="help-block">Must be at least 2 characters.</p>
              <p ng-if="form.username.$error.maxlength && ((form.username.$touched && form.username.$dirty) || form.$submitted)" class="help-block">Must be fewer than 20 characters.</p>
              <p ng-if="form.username.$error.required && ((form.username.$touched && form.username.$dirty) || form.$submitted)" class="help-block">A username is required.</p>
              <p ng-if="form.username.$pending.username" class="help-block">Checking availability...</p>
              <p ng-if="form.username.$error.username" class="help-block">This username is already taken!</p>
            </div>
          </div>
        </div>

        <div class="form-group" fw-form-group-validity="password">
          <div class="row">
            <div class="col-md-6">
              <div class="has-feedback">
                <input type="password" class="form-control" name="password" placeholder="Password"
                       ng-model="registrationData.password"
                       ng-minlength="6"
                       required>
                <span ng-if="form.password.$valid && form.password.$touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                <span ng-if="form.password.$invalid && ((form.password.$touched && form.password.$dirty) || form.$submitted)" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
              </div>
            </div>
            <div class="col-md-6">
              <p ng-if="form.password.$error.minlength && ((form.password.$touched && form.password.$dirty) || form.$submitted)" class="help-block">Must be at least 6 characters.</p>
              <p ng-if="form.password.$error.required && ((form.password.$touched && form.password.$dirty) || form.$submitted)" class="help-block">A password is required.</p>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <button
              class="btn btn-success btn-lg btn-block"
              type="submit"
              id="register-button"
              data-loading-text="Registering..."
              data-event-title="Registration succeeded"
              data-event-category="Registration"
              fw-can-submit-form="form.$valid && form.$dirty"
              fw-submit-form="register()">Register as creator</button>
          </div>
        </div>
      </form>
      <div class="row">
        <div class="col-md-6">
          <a class="btn btn-lg btn-plain-text btn-video"
             ng-href
             ng-if="!form.$dirty"
             ng-click="openModal()"><i class="fa fa-play"></i> Play the video</a>
        </div>
      </div>
      <div clas="row">
        <div class="col-md-6">
          <div id="messageBox" class="sub-form-alert" ng-show="message" ng-class="(submissionSucceeded) ? 'alert alert-success' : 'alert alert-danger'">
            <p>{{message}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row home-footer">
  <div class="col-md-12">
    <div class="row text-wrap">
      <p><strong>Fifthweek is for sharing quality content.</strong> <span>We make it really simple for creators to make a low-cost subscription and share whatever they want through it. <br/><a ui-sref="help.faq">Learn more</a></span></p>
    </div>
  </div>
</div>
