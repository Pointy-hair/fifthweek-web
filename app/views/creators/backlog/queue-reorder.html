<fw-breadcrumb current="{{model.collectionName}}"></fw-breadcrumb>

<div class="posts queue restore-row-behaviour">
  <div class="post tagged-post" ng-repeat="post in posts">
    <div ng-class="{'non-image-post': !post.imagePath, 'image-post': post.imagePath, 'file-post': post.filePath}">
      <img ng-if="post.imagePath" ng-src="{{post.imagePath}}" ng-click="viewImage(post)"/>

      <p class="tag">{{post.dayOfWeek}} {{post.date}}</p>

      <div class="text">
        <div class="content" ng-if="post.comment || post.filePath">
          <md ng-model="post.comment" ng-if="post.comment"></md>

          <p ng-if="post.filePath" class="content-file">
            <a class="btn-file-download file-content" href="{{post.filePath}}" target="_blank">
              {{post.fileName}}
            </a>
          </p>
        </div>
        <div class="actions" ng-click="post.showMenu = !post.showMenu"
             ng-blur="post.showMenu = false">
          <ul>
            <li class="actions-more"
                ng-class="{'active-actions-drop-down': post.showMenu}">
              <button>
                <i class="fa fa-ellipsis-v"></i>
              </button>
              <div class="actions-drop-down" ng-show="post.showMenu">
                <ul>
                  <li><a ng-mousedown="edit(post.postId)">Edit</a></li>
                  <li>
                    <fw-delete-link
                      item-type="Post"
                      data-event-title="Post deleted"
                      data-event-category="Backlog"
                      delete="delete(post.postId)">
                      Delete
                    </fw-delete-link>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
      </div>


    </div>
  </div>
</div>
