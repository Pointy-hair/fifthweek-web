<fw-breadcrumb items="createBreadcrumb()"></fw-breadcrumb>

<div class="row page-customize-collections-manage">
  <div class="col-xs-12">

    <tabset>
      <tab heading="Basics">
        <div class="panel panel-default">
          <div class="panel-body jumbo-panel">

            <form novalidate
                role="form"
                name="manageCollection">

              <label>Name</label>
              <fw-form-input-collection-name ng-model="model.name" placeholder="Collection name" required focus></fw-form-input-collection-name>

              <div class="form-group">
                <label>Available in</label>
                <fw-form-input-select selected-item="model.selectedChannel" items="model.channels"></fw-form-input-select>
              </div>

              <div class="row-btn">
                <div class="row">
                  <div class="col-s-8">
                    <button
                      id="save-collection-button"
                      class="btn btn-block btn-success"
                      data-loading-text="Saving..."
                      data-event-title="Collection edited"
                      data-event-category="Customization"
                      form-name="manageCollection"
                      fw-form-submit="save()">Save</button>
                    <button class="btn btn-default btn-block"
                            ui-sref="creators.customize.collections">Cancel</button>
                  </div>
                  <div class="col-s-4">
                    <fw-form-input-delete
                      item="model.savedName"
                      item-type="Collection"
                      link-id="delete-collection-link"
                      data-event-title="Collection deleted"
                      data-event-category="Customization"
                      delete="delete()"></fw-form-input-delete>
                  </div>
                </div>
              </div>
            </form>

          </div>
        </div>
      </tab>
      <tab heading="Scheduling">
        <div class="panel panel-default">
          <div class="panel-body jumbo-panel">

            <form novalidate
                  role="form"
                  name="manageReleaseTimes"
                  ng-show="!model.addingReleaseTime && !model.selectedReleaseTime">

              <fw-managed-list-sm
                item-name="release time"
                items="model.schedule"
                new-item="model.addingReleaseTime = true"
                manage-item="manageReleaseTime(item)">
                <p>{{item.day}} @ {{item.time}}</p>
              </fw-managed-list-sm>

              <div class="row-btn">
                <div class="row">
                  <div class="col-s-8">
                    <button
                      id="save-collection-button"
                      class="btn btn-block btn-success"
                      data-loading-text="Saving..."
                      data-event-title="Collection edited"
                      data-event-category="Customization"
                      form-name="manageCollection"
                      fw-form-submit="save()">Save</button>
                    <button class="btn btn-default btn-block"
                            ui-sref="creators.customize.collections">Cancel</button>
                  </div>
                  <div class="col-s-4">
                    <fw-form-input-delete
                      item="model.savedName"
                      item-type="Collection"
                      link-id="delete-collection-link"
                      data-event-title="Collection deleted"
                      data-event-category="Customization"
                      delete="delete()"></fw-form-input-delete>
                  </div>
                </div>
              </div>
            </form>

            <form novalidate
                  role="form"
                  name="newReleaseTimeForm"
                  ng-show="model.addingReleaseTime">

              <button class="btn btn-default btn-block"
                      ng-click="cancelSubAction()">Cancel</button>

            </form>

            <form novalidate
                  role="form"
                  name="manageReleaseTimeForm"
                  ng-show="model.selectedReleaseTime">

              <fw-form-input-hour-of-week></fw-form-input-hour-of-week>

              <div class="row">
                <div class="col-s-8">
                  <button
                    id="save-release-time-button"
                    class="btn btn-block btn-success"
                    ng-click="saveReleaseTime()">Update Release Time</button>
                  <button
                    class="btn btn-default btn-block"
                    ng-click="cancelSubAction()">Cancel</button>
                </div>
                <div class="col-s-4">
                  <fw-form-input-delete
                    item-type="Release Time"
                    link-id="delete-release-time-link"
                    delete="deleteReleaseTime()"></fw-form-input-delete>
                </div>
              </div>
            </form>

          </div>
        </div>
      </tab>
    </tabset>
  </div>
</div>
