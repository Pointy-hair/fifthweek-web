<div class="page-customize-collections-manage">
  <form novalidate
        role="form"
        name="manageCollectionForm"
        ng-show="!model.addingReleaseTime && !model.selectedReleaseTime">

    <fw-breadcrumb current="model.savedName"></fw-breadcrumb>

    <fw-panel12>

      <label>Name</label>
      <fw-form-input-collection-name ng-model="model.name" placeholder="Collection name" required focus></fw-form-input-collection-name>

      <div class="form-group">
        <label>Available in</label>
        <fw-form-input-select selected-item="model.selectedChannel" items="model.channels"></fw-form-input-select>
      </div>

      <fw-form-subsection name="Schedule">
        <summary>
          <p class="release-times">
            <span ng-repeat="time in model.schedule">{{time.day}}</span>
          </p>
        </summary>
        <summary-expanded>
          <p>
            When you add posts to ‘the queue’ they automatically become published according to the schedule defined against their collection.
          </p>
        </summary-expanded>
        <section>
          <fw-managed-list-sm
            item-name="release time"
            items="model.schedule"
            new-item="model.addingReleaseTime = true"
            manage-item="manageReleaseTime(item)">
            <p>{{item.day}} <span class="release-time-of-day">@ {{item.time}}</span></p>
          </fw-managed-list-sm>
        </section>
      </fw-form-subsection>

      <div class="row-btn">
        <div class="row">
          <div class="col-s-8">
            <button
              id="save-collection-button"
              class="btn btn-block btn-success"
              data-loading-text="Saving..."
              data-event-title="Collection edited"
              data-event-category="Customization"
              form-name="manageCollectionForm"
              fw-form-submit="save()">Save</button>
            <button class="btn btn-default btn-block"
                    ui-sref="creators.customize.collections">Cancel</button>
          </div>
          <div class="col-s-4">
            <fw-form-input-delete
              item="model.savedName"
              item-type="Collection"
              link-id="delete-collection-link"
              data-event-title="Collection deleted"
              data-event-category="Customization"
              delete="delete()"></fw-form-input-delete>
          </div>
        </div>
      </div>
    </fw-panel12>
  </form>

  <form novalidate
        role="form"
        name="newReleaseTimeForm"
        ng-show="model.addingReleaseTime">

    <fw-breadcrumb current="model.savedName"></fw-breadcrumb>

    <fw-panel12>

      <fw-form-input-hour-of-week></fw-form-input-hour-of-week>

      <button
        class="btn btn-default btn-block"
        ng-click="model.addingReleaseTime = false">Cancel</button>

    </fw-panel12>

  </form>

  <form novalidate
        role="form"
        name="manageReleaseTimeForm"
        ng-show="model.selectedReleaseTime">

    <fw-breadcrumb current="model.savedName"></fw-breadcrumb>

    <fw-panel12>
      <fw-form-input-hour-of-week></fw-form-input-hour-of-week>

      <div class="row">
        <div class="col-s-8">
          <button
            id="save-release-time-button"
            class="btn btn-block btn-success"
            ng-click="saveReleaseTime()">Update Release Time</button>
          <button
            class="btn btn-default btn-block"
            ng-click="model.selectedReleaseTime = null">Cancel</button>
        </div>
        <div class="col-s-4">
          <fw-form-input-delete
            item-type="Release Time"
            link-id="delete-release-time-link"
            delete="deleteReleaseTime()"></fw-form-input-delete>
        </div>
      </div>

    </fw-panel12>
  </form>

</div>
