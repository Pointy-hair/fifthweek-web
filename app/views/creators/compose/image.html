<fw-panel12>

  <form novalidate name="formCompose" ng-show="!model.postLater">

    <div class="form-group-file">
      <div class="row">
        <div class="col-xs-12 bottom-buffer">
          <label>Post an Image</label>
        </div>
      </div>
      <div class="row">
        <div class="col-s-6 bottom-buffer">
          <fw-blob-image control="blobImage" pending-width="300px" pending-height="200px" thumbnail="300x300"></fw-blob-image>
        </div>
        <div class="col-s-6 bottom-buffer">
          <fw-file-upload description="Upload Image" on-upload-complete="onUploadComplete(data)" file-purpose="post-image" accept="image/jpeg,image/gif,image/png"></fw-file-upload>
        </div>
      </div>
    </div>

    <div ng-if="model.uploaded">
      <fw-form-input-comment
        ng-model="model.input.comment"
        placeholder="Add a comment, if you like"
        focus>
      </fw-form-input-comment>

      <div class="form-group" ng-if="model.collections.length > 0">
        <fw-form-input-select selected-item="model.input.selectedCollection" items="model.collections"></fw-form-input-select>
      </div>

      <fw-form-input-collection-name
        ng-if="model.collections.length === 0"
        ng-model="model.input.newCollectionName"
        placeholder="New collection name"
        show-help
        required>
      </fw-form-input-collection-name>

      <div class="row-btn">
        <button type="submit"
                class="btn btn-block btn-success"
                data-loading-text="Posting..."
                data-event-title="Image posted"
                data-event-category="New post"
                form-name="formCompose"
                fw-form-submit="postNow()">Post Now</button>
        <button class="btn btn-default btn-block"
                form-name="formCompose"
                fw-form-submit="postLater()">Post Later</button>
      </div>
    </div>

  </form>

  <form novalidate name="formSchedule" ng-show="model.postLater">

    <div class="radio">
      <label><input type="radio"
                    ng-model="model.postToQueue"
                    ng-value="true"/> After other posts in queue (will appear Wednesday 7th Jan)</label>
    </div>

    <div class="radio">
      <label><input type="radio"
                    ng-model="model.postToQueue"
                    ng-value="false" /> On specific date:</label>
    </div>

    <div class="row">
      <div class="col-sm-7">
        <div fw-datepicker ng-disabled="model.postToQueue"></div>
      </div>
    </div>

    <div class="row-btn">
      <button type="submit"
              class="btn btn-block btn-success"
              data-loading-text="Posting to Backlog..."
              data-event-title="Image queued"
              data-event-category="New post"
              form-name="formSchedule"
              fw-form-submit="postToBacklog()">Post to Backlog</button>
      <button class="btn btn-default btn-block"
              ng-click="cancelPostLater()">Cancel</button>
    </div>

  </form>

</fw-panel12>
