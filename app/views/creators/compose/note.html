<fw-panel12>

  <form novalidate name="formCompose" ng-show="!postLaterSelected">

    <fw-form-group>
      <div class="row">
        <div class="col-xs-12">
          <textarea msd-elastic
                    class="form-control"
                    name="note"
                    ng-model="newNoteData.note"
                    placeholder="What's happening?"
                    required
                    focus=true></textarea>
        </div>
        <div class="col-xs-12">
          <p fw-form-input-invalid-p="required">Please write your note before continuing.</p>
        </div>
      </div>
    </fw-form-group>

    <div class="form-group" ng-if="channels.length > 1">
      <fw-form-input-select selected-item="selectedChannel" items="channels"></fw-form-input-select>
    </div>

    <div class="row-btn">
      <button type="submit"
              class="btn btn-block btn-success"
              data-loading-text="Posting..."
              data-event-title="Note posted now"
              data-event-category="New post"
              fw-can-submit-form="formCompose.$valid && formCompose.$dirty"
              fw-form-submit="postNow()">Post Now</button>
      <button class="btn btn-block btn-grey"
              ng-click="formCompose.$valid && formCompose.$dirty ? postLater() : false">Post Later</button>
    </div>

  </form>

  <form novalidate name="formSchedule" ng-show="postLaterSelected">

    <div class="radio">
      <label><input type="radio"
                    ng-click="uncheck($event)"
                    ng-model="postDate"
                    ng-value="postFunnel" /> After other posts in queue (will appear Wednesday 7th Jan)</label>
    </div>

    <div class="radio">
      <label><input type="radio"
                    ng-click="uncheck($event)"
                    ng-model="postDate"
                    ng-value="postSpecificDate" /> On specific date:</label>
    </div>

    <div class="row">
      <div class="col-sm-7">
        <div fw-datepicker></div>
      </div>
    </div>

    <div class="row-btn">
      <button type="submit"
             class="btn btn-block btn-success"
             ng-click="postToBacklog()"
             data-loading-text="Posting to Backlog..."
             fw-button-loading="isSubmitting">Post to Backlog</button>
      <button class="btn btn-block btn-grey"
              ng-click="cancelPostLater()">Cancel</button>
    </div>

  </form>

</fw-panel12>
